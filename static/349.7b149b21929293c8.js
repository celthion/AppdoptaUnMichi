"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[349],{7349:(M,h,n)=>{n.r(h),n.d(h,{AuthenticationModule:()=>Y});var c=n(8498),b=n(177),p=n(9213),m=n(5596),d=n(9631),k=n(2765),u=n(8834),e=n(9417),j=n(4912),y=n(5509),t=n(4438),f=n(4796),v=n(3954),s=n(6467);const E=()=>["/authentication/register"];let R=(()=>{class a{constructor(i,o,r,l){this.fb=i,this.router=o,this.as=r,this.vs=l,this.hide=(0,t.vPA)(!0),this.loginForm=this.fb.group({correo:["",[e.k0.required,e.k0.email,this.vs.dominioUnal.bind(this.vs)]],contrasena:["",e.k0.required]})}ngOnInit(){}irAHome(){this.as.login(this.loginForm).subscribe(i=>{i?this.router.navigate(["/home"]):console.log("Formulario inv\xe1lido, por favor revise los campos.")})}getErrorMessage(i){const o=this.loginForm.get(i);return o?this.vs.getErrorMessage(o,i):""}clickEvent(i){this.hide.set(!this.hide()),i.stopPropagation()}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(e.ok),t.rXU(c.Ix),t.rXU(f.u),t.rXU(v.U))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-login"]],decls:28,vars:9,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light-primary"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],["autocomplete","off",1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","fill","color","primary",1,"w-100","m-b-12"],["matInput","","formControlName","correo","type","email","required",""],["matInput","","formControlName","contrasena","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"d-flex","justify-content-center"],["mat-flat-button","","color","primary",1,"w-100"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"form",5),t.bIt("ngSubmit",function(){return r.irAHome()}),t.j41(6,"mat-label",6),t.EFF(7,"Correo de Usuario"),t.k0s(),t.j41(8,"mat-form-field",7),t.nrm(9,"input",8),t.j41(10,"mat-error"),t.EFF(11),t.k0s()(),t.j41(12,"mat-label",6),t.EFF(13,"Contrase\xf1a"),t.k0s(),t.j41(14,"mat-form-field",7),t.nrm(15,"input",9),t.j41(16,"button",10),t.bIt("click",function(g){return r.clickEvent(g)}),t.j41(17,"mat-icon"),t.EFF(18),t.k0s()(),t.j41(19,"mat-error"),t.EFF(20),t.k0s()(),t.j41(21,"mat-card-actions",11)(22,"button",12),t.EFF(23,"Iniciar sesi\xf3n"),t.k0s()()(),t.j41(24,"span",13),t.EFF(25,"\xbfNo tiene cuenta? "),t.j41(26,"a",14),t.EFF(27," Crea una cuenta"),t.k0s()()()()()()()),2&o&&(t.R7$(5),t.Y8G("formGroup",r.loginForm),t.R7$(6),t.JRh(r.getErrorMessage("correo")),t.R7$(4),t.Y8G("type",r.hide()?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide password")("aria-pressed",r.hide()),t.R7$(2),t.JRh(r.hide()?"visibility_off":"visibility"),t.R7$(2),t.JRh(r.getErrorMessage("contrasena")),t.R7$(6),t.Y8G("routerLink",t.lJ4(8,E)))},dependencies:[c.Wk,p.An,m.RN,m.YY,m.m2,d.fg,s.rl,s.nJ,s.TL,s.yw,u.$z,u.iY,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD],encapsulation:2})}return a})();const A=()=>["/authentication/login"];let C=(()=>{class a{constructor(i,o,r,l){this.fb=i,this.router=o,this.vs=r,this.authService=l,this.hide=(0,t.vPA)(!0),this.registerForm=this.fb.group({nombre:["",[e.k0.required,e.k0.pattern(/^(?!\s*$)(?!.*\s{2,})[a-zA-Z\s]+$/)]],correo:["",[e.k0.required,e.k0.email,this.vs.dominioUnal.bind(this.vs)]],contrasena:["",e.k0.required]})}ngOnInit(){}irALogin(){this.registerForm.valid?this.authService.register(this.registerForm).subscribe(i=>{i?this.router.navigate(["/authentication/login"]):console.log("Registration failed, please try again.")}):console.log("Formulario inv\xe1lido, por favor revise los campos.")}getErrorMessage(i){const o=this.registerForm.get(i);return o?this.vs.getErrorMessage(o,i):""}clickEvent(i){this.hide.set(!this.hide()),i.stopPropagation()}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(e.ok),t.rXU(c.Ix),t.rXU(v.U),t.rXU(f.u))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-register"]],decls:34,vars:10,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light-primary"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],["autocomplete","off",1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","fill","color","primary",1,"w-100","m-b-12"],["matInput","","formControlName","nombre","required",""],["matInput","","formControlName","correo","type","email","required",""],["matInput","","formControlName","contrasena","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"d-flex","justify-content-center"],["mat-flat-button","","color","primary",1,"w-100"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"form",5),t.bIt("ngSubmit",function(){return r.irALogin()}),t.j41(6,"mat-label",6),t.EFF(7,"Nombre"),t.k0s(),t.j41(8,"mat-form-field",7),t.nrm(9,"input",8),t.j41(10,"mat-error"),t.EFF(11),t.k0s()(),t.j41(12,"mat-label",6),t.EFF(13,"Correo"),t.k0s(),t.j41(14,"mat-form-field",7),t.nrm(15,"input",9),t.j41(16,"mat-error"),t.EFF(17),t.k0s()(),t.j41(18,"mat-label",6),t.EFF(19,"Contrase\xf1a"),t.k0s(),t.j41(20,"mat-form-field",7),t.nrm(21,"input",10),t.j41(22,"button",11),t.bIt("click",function(g){return r.clickEvent(g)}),t.j41(23,"mat-icon"),t.EFF(24),t.k0s()(),t.j41(25,"mat-error"),t.EFF(26),t.k0s()(),t.j41(27,"mat-card-actions",12)(28,"button",13),t.EFF(29,"Registrar"),t.k0s()()(),t.j41(30,"span",14),t.EFF(31,"\xbfYa tiene cuenta? "),t.j41(32,"a",15),t.EFF(33," Inicie sesi\xf3n"),t.k0s()()()()()()()),2&o&&(t.R7$(5),t.Y8G("formGroup",r.registerForm),t.R7$(6),t.JRh(r.getErrorMessage("nombre")),t.R7$(6),t.JRh(r.getErrorMessage("correo")),t.R7$(4),t.Y8G("type",r.hide()?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide password")("aria-pressed",r.hide()),t.R7$(2),t.JRh(r.hide()?"visibility_off":"visibility"),t.R7$(2),t.JRh(r.getErrorMessage("contrasena")),t.R7$(6),t.Y8G("routerLink",t.lJ4(9,A)))},dependencies:[c.Wk,p.An,m.RN,m.YY,m.m2,d.fg,s.rl,s.nJ,s.TL,s.yw,u.$z,u.iY,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD],encapsulation:2})}return a})();var S=n(6354),$=n(8141);const F=(a,U)=>{const i=(0,t.WQX)(f.u),o=(0,t.WQX)(c.Ix);return i.isLoggedIn().pipe((0,S.T)(r=>!r),(0,$.M)(r=>{r||o.navigate(["/home"])}))},I=[{path:"",children:[{path:"login",component:R,canActivate:[F]},{path:"register",component:C,canActivate:[F]}]}];let Y=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.$C({type:a});static#r=this.\u0275inj=t.G2t({imports:[b.MD,c.iI.forChild(I),p.m_,m.Hu,d.fS,k.g7,u.Hl,e.YN,e.X1,j.X4.pick(y)]})}return a})()}}]);